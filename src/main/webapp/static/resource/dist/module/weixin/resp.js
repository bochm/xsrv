define("module/weixin/resp",["app/common","app/datatables","app/form"],function(e,t,n){var r={table:{id:"#table-weixin-resp-list",options:{title:"\u5efa\u8bae\u8868",columns:[{data:"id",title:"id",visible:!1},{data:"advDate",title:"\u65e5\u671f",render:function(t){return e.formatDate("YYYY-MM-DD",new Date(t))}},{data:"account",title:"\u6d88\u8d39\u8005\u540d\u79f0"},{data:"repDate",title:"\u53cd\u9988\u65e5\u671f",visible:!1},{data:"repName",title:"\u53cd\u9988\u4eba",visible:!1},{data:"tel",title:"\u624b\u673a\u53f7"},{data:"contents",title:"\u5efa\u8bae\u5185\u5bb9"},{data:"picture",title:"\u9644\u4ef6",visible:!1},{data:"reply",title:"\u53cd\u9988\u5185\u5bb9"},{data:"status",title:"\u72b6\u6001",render:function(e){return e=="1"?"\u5df2\u5904\u7406":"\u672a\u5904\u7406"},width:"10%"}],ordering:!1,info:!0,checkboxSelect:!1,scrollY:"350px",queryModal:"#weixin-resp-query"}},form:{title:"\u5efa\u8bae\u53cd\u9988",editModal:"#weixin-resp-list-edit",id:"#weixin-resp-edit-form",editUrl:"WEIXIN/suggest/update",submitJson:!0},init:function(e){this.table.options.params=e||{},this.table.options.addEditForm=this.form,this.form.submitCallback=function(e){r.table.obj.query()},$(this.table.id).initTable(this.table.options,function(e){r.table.obj=e}),$("#weixin-resp-list-edit").on("show",function(){$("#picture").attr("src",r.table.obj.selectedRows()[0].picture),$(this).find("input[name='consumer']").val(r.table.obj.selectedRows()[0].account),$(this).find("input[name='tel']").val(r.table.obj.selectedRows()[0].tel),$(this).find("textarea[name='contents']").val(r.table.obj.selectedRows()[0].contents);var e=r.table.obj.selectedRows()[0].status;e=="1"?$(this).find(".btn-primary").hide():$(this).find(".btn-primary").show();var t=r.table.obj.selectedRows()[0].repName;(t==""||t==null)&&$(this).find("input[name='repName']").val(API.localUser("ADMIN").name)})}};return{init:function(e){r.init(e)}}});