//** jQuery Scroll to Top Control script- (c) Dynamic Drive DHTML code library: http://www.dynamicdrive.com.
//** Available/ usage terms at http://www.dynamicdrive.com (March 30th, 09')
//** v1.1 (April 7th, 09'):
//** 1) Adds ability to scroll to an absolute position (from top of page) or specific element on the page instead.
//** 2) Fixes scroll animation not working in Opera. 

var e={setting:{startline:100,scrollto:0,scrollduration:1e3,fadeduration:[500,100]},controlHTML:'<i class="iconfont icon-arrowupcircle fa-2x"></i>',controlattrs:{offsetx:10,offsety:10},anchorkeyword:"#top",state:{isvisible:!1,shouldvisible:!1},scrollup:function(){this.cssfixedsupport||this.$control.css({opacity:0});var e=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);typeof e=="string"&&jQuery("#"+e).length==1?e=jQuery("#"+e).offset().top:e=0,this.$body.animate({scrollTop:e},this.setting.scrollduration)},keepfixed:function(){var e=jQuery(window),t=e.scrollLeft()+e.width()-this.$control.width()-this.controlattrs.offsetx,n=e.scrollTop()+e.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:t+"px",top:n+"px"})},togglecontrol:function(){var e=jQuery(window).scrollTop();this.cssfixedsupport||this.keepfixed(),this.state.shouldvisible=e>=this.setting.startline?!0:!1,this.state.shouldvisible&&!this.state.isvisible?(this.$control.stop().animate({opacity:1},this.setting.fadeduration[0]),this.state.isvisible=!0):this.state.shouldvisible==0&&this.state.isvisible&&(this.$control.stop().animate({opacity:0},this.setting.fadeduration[1]),this.state.isvisible=!1)},init:function(){jQuery(document).ready(function(t){var n=e,r=document.all;n.cssfixedsupport=!r||r&&document.compatMode=="CSS1Compat"&&window.XMLHttpRequest,n.$body=window.opera?document.compatMode=="CSS1Compat"?t("html"):t("body"):t("html,body"),n.$control=t('<div id="topcontrol">'+n.controlHTML+"</div>").css({position:n.cssfixedsupport?"fixed":"absolute",bottom:n.controlattrs.offsety,right:n.controlattrs.offsetx,opacity:0,cursor:"pointer","z-index":999999}).attr({title:"\u8fd4\u56de\u9876\u90e8"}).click(function(){return n.scrollup(),!1}).appendTo("body"),document.all&&!window.XMLHttpRequest&&n.$control.text()!=""&&n.$control.css({width:n.$control.width()}),n.togglecontrol(),t('a[href="'+n.anchorkeyword+'"]').click(function(){return n.scrollup(),!1}),t(window).bind("scroll resize",function(e){n.togglecontrol()})})}};e.init();