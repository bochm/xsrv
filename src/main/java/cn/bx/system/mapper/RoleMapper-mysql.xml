<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.bx.system.mapper.RoleMapper"> 
    <sql id="roleColumns">
    	a.id,a.enname,a.name,a.role_type,a.data_scope,a.status,a.remarks
    </sql>
   <select id="list" resultType="cn.bx.system.entity.Role">
		select <include refid="roleColumns"/>
		from sys_role a
	</select>
	<select id="checkEnname" resultType="hashmap">
		select 1 from sys_role where enname = #{enname} 
		<if test="o_enname != null and o_enname != ''">
		and enname != #{o_enname}
		</if>
	</select>
	<insert id="add">
		insert into sys_role(id, enname, name, role_type, data_scope, create_by, create_date, update_by, 
		update_date, remarks,status) 
		values (#{id}, #{enname},#{name},#{roleType},#{dataScope}, #{createBy}, #{createDate},
		#{updateBy},#{updateDate}, #{remarks},#{status})
	</insert>
	<update id="save">
		update sys_role set enname = #{enname}, name=#{name},role_type=#{roleType},data_scope=#{dataScope},
		update_by=#{updateBy},update_date=#{updateDate},remarks = #{remarks},status = #{status}
		where id = #{id}
	</update>
	
	<delete id="delete">
		delete from  sys_role where id in
		<foreach collection="array" item="id" open="(" close=")" separator=",">#{id}</foreach>
	</delete>
</mapper>